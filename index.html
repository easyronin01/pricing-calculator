<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pricing Strategy Calculator</title>
    
    <!-- Tailwind CSS for Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and Babel for Component Logic -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons Library -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc;
        }
        /* Ensures the application looks clean on high resolution displays */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>
<body class="text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        /**
         * Icon Component
         * This utility ensures that Lucide icons are rendered correctly within the React environment.
         */
        const Icon = ({ name, className }) => {
            const containerRef = useRef(null);
            useEffect(() => {
                if (window.lucide && containerRef.current) {
                    containerRef.current.innerHTML = `<i data-lucide="${name}"></i>`;
                    window.lucide.createIcons({
                        attrs: { class: className },
                        nameAttr: 'data-lucide',
                        root: containerRef.current
                    });
                }
            }, [name, className]);
            return <span ref={containerRef} className="inline-flex items-center justify-center"></span>;
        };

        const App = () => {
            // Internal state management for pricing variables
            const [salary, setSalary] = useState("0");
            const [overhead, setOverhead] = useState("0");
            const [flatFee, setFlatFee] = useState("0");
            const [isLocked, setIsLocked] = useState(false);
            const [lockedOp, setLockedOp] = useState(0);

            // Parsing numeric values for calculation
            const numSalary = parseFloat(salary) || 0;
            const numOverhead = parseFloat(overhead) || 0;
            const numFlatFee = parseFloat(flatFee) || 0;
            
            // Logic to determine the final charge based on the operational lock status
            const finalFee = isLocked ? (numSalary + lockedOp) : (numSalary + numOverhead + numFlatFee);
            const profit = finalFee - (numSalary + numOverhead);

            return (
                <div className="p-8 max-w-4xl mx-auto">
                    <header className="mb-10 text-center">
                        <h1 className="text-3xl font-black flex items-center justify-center gap-3 text-slate-900">
                            <Icon name="calculator" className="w-8 h-8 text-blue-600" />
                            Pricing Strategy Calculator
                        </h1>
                        <p className="text-slate-500 italic uppercase text-xs tracking-widest mt-2 font-semibold">
                            Executive Decision Matrix for Sustainable Profit Protection
                        </p>
                    </header>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        {/* Input Controls */}
                        <div className="space-y-6 bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <h2 className="text-xs font-bold uppercase tracking-widest text-slate-400 mb-4 font-semibold">
                                Operational Input Variables
                            </h2>
                            
                            <div>
                                <label className="block text-[10px] font-bold uppercase mb-1 font-semibold text-slate-700">
                                    Employee Salary (United States Dollars)
                                </label>
                                <input 
                                    type="number" 
                                    value={salary} 
                                    onChange={(e) => setSalary(e.target.value)} 
                                    className="w-full p-3 bg-slate-50 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all" 
                                />
                            </div>

                            <div>
                                <label className="block text-[10px] font-bold uppercase mb-1 font-semibold text-slate-700">
                                    Total Overhead (United States Dollars)
                                </label>
                                <input 
                                    type="number" 
                                    value={overhead} 
                                    onChange={(e) => setOverhead(e.target.value)} 
                                    className="w-full p-3 bg-slate-50 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all" 
                                />
                            </div>

                            <div>
                                <div className="flex justify-between items-center mb-1">
                                    <label className="block text-[10px] font-bold uppercase font-semibold text-slate-700">
                                        Target Flat Fee (United States Dollars)
                                    </label>
                                    <button 
                                        onClick={() => { if(!isLocked) setLockedOp(numOverhead + numFlatFee); setIsLocked(!isLocked); }} 
                                        className={`transition-colors ${isLocked ? 'text-blue-600' : 'text-slate-300 hover:text-blue-400'}`}
                                        title={isLocked ? "Unlock fee for adjustment" : "Lock current operational overhead and fee"}
                                    >
                                        <Icon name={isLocked ? "lock" : "unlock"} className="w-4 h-4" />
                                    </button>
                                </div>
                                <input 
                                    type="number" 
                                    value={flatFee} 
                                    onChange={(e) => setFlatFee(e.target.value)} 
                                    readOnly={isLocked} 
                                    className={`w-full p-3 rounded-lg border border-slate-200 outline-none transition-all ${isLocked ? 'bg-slate-100 text-slate-400 italic cursor-not-allowed' : 'bg-slate-50'}`} 
                                />
                            </div>
                        </div>

                        {/* Financial Dashboard */}
                        <div className="bg-slate-900 text-white p-8 rounded-3xl shadow-xl flex flex-col justify-between border border-slate-800">
                            <div>
                                <span className="text-[10px] font-bold uppercase tracking-widest opacity-50 font-semibold">
                                    Recommended Monthly Charge
                                </span>
                                <div className="text-5xl font-black mt-2 tracking-tighter">
                                    ${finalFee.toLocaleString(undefined, {minimumFractionDigits: 2})}
                                </div>
                            </div>

                            <div className="mt-8 pt-8 border-t border-white/10">
                                <span className="text-[10px] font-bold uppercase tracking-widest opacity-50 font-semibold">
                                    Projected Monthly Net Profit
                                </span>
                                <div className={`text-3xl font-black mt-1 ${profit < 0 ? 'text-[#F54927]' : 'text-green-400'}`}>
                                    ${profit.toLocaleString(undefined, {minimumFractionDigits: 2})}
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Operational Summary */}
                    <div className="mt-8 p-6 bg-blue-50 rounded-2xl border border-blue-100">
                        <div className="flex items-start gap-4">
                            <div className="bg-blue-600 p-2 rounded-lg text-white">
                                <Icon name="info" className="w-5 h-5" />
                            </div>
                            <div>
                                <h4 className="font-bold text-blue-900 text-xs uppercase tracking-wider mb-1">Operational Guidance</h4>
                                <p className="text-sm text-blue-800 leading-relaxed italic">
                                    Ensure that all calculated fees are presented to the client as an all inclusive professional service fee. This decision matrix is designed to protect internal margins while maintaining standard management oversight for your team in the Philippines.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>